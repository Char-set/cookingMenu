## 网络和并发

### HTTP/1.0/1.1/2.0 在并发请求上的主要区别是什么？

1. HTTP/1.0

每个`TCP连接`只能发送一个请求，当服务器响应后就会关闭这个连接，下一次请求需要再次建立`TCP连接`

2. HTTP/1.1

默认采用持久连接，TCP，(1.0 Connection: keep-live)

Connection: close

管道机制，同用一个TCP连接里，允许多个请求同时发送。
所有的数据通信是有顺序的，A B C，A先到达服务器开始响应，A耗费10s，队头阻塞

3. HTTP/2.0

加了双工模式，服务器也能同时处理多个请求了，解决了队头阻塞的问题。
多路复用，没有次序概念了。
加了服务器推送功能

### HTTP/1.1的长连接和2.0的多路复用有什么区别？

1.1: 同一时间一个TCP连接稚嫩恶搞处理一个请求，采用一问一答的形式。上一个请求响应后才能处理下一个请求。

追问：chrome浏览器为什么能支持最大6个同域请求的并发

因为chrome支持最大6个TCP连接

2.0: 同域名上的所有通信都在单个连接上完成。单个连接上可以并行交错的进行请求和响应

### 为什么1.1不能实现多路复用呢？

HTTP/2.0是基于二进制帧的协议，HTTP/1.1是基于文本分隔解析的协议

1.1的报文结构里，服务器需要不断的读入字节，知道遇到换行符。处理的顺序是串行的

GET / HTTP /1.1
Accept:
host:
referer:

POST

2.0以帧未最小数据单位，每个帧都会有标识自己属于哪个流，多个帧组成一个流。

多路复用，其实就是一个TCP里存在多条流


### 前端代码里，有什么方式能控制最大并发量呢？

### 如果任务有优先级，需要允许高优先级任务先执行？